<div class="container-fluid bg-white py-5 dashboard-bg" style=" margin-top: 4rem !important;" >

  
  <div class="row align-items-center mb-5">
    
    <div class="col-lg-6 mb-4 mb-lg-0">
      <div class="d-flex justify-content-center align-items-center h-100">
        <app-chart></app-chart>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="row g-4">
        
        <div class="col-sm-6">
      <div class="p-4 text-center rounded-3 shadow-sm h-100 stat-card stat-card-total">
        <h6 class="text stats mb-2">Total Tickets</h6>
        <h3 class="fw-bold">{{ total() }}</h3>
      </div>
    </div>

    <div class="col-sm-6">
      <div class="p-4 text-center rounded-3 shadow-sm h-100 stat-card stat-card-total">
        <h6 class="text stats mb-2">Open</h6>
        <h3 class="fw-bold">{{ open() }}</h3>
      </div>
    </div>

    <div class="col-sm-6">
      <div class="p-4 text-center rounded-3 shadow-sm h-100 stat-card stat-card-total">
        <h6 class="text stats mb-2">Resolved</h6>
        <h3 class="fw-bold">{{ resolved() }}</h3>
      </div>
    </div>

    <div class="col-sm-6">
      <div class="p-4 text-center rounded-3 shadow-sm h-100 stat-card stat-card-total">
        <h6 class="text stats mb-2">Pending</h6>
        <h3 class="fw-bold">{{ pending() }}</h3>
      </div>
    </div>
      </div>
    </div>
  </div>

 <div class="row g-3 mt-0">
    @for (t of tickets(); track t.id) {
      
      <div class="col-12 col-lg-4">
        <app-ticket-card [ticket]="t">
          <select
            class="form-select form-select-sm w-auto"
            (change)="changeStatus(t, $any($event.target).value)"
          >
            <option value="open" [selected]="t.status === 'open'">Open</option>
            <option value="pending" [selected]="t.status === 'pending'">Pending</option>
            <option value="resolved" [selected]="t.status === 'resolved'">Resolved</option>
          </select>
        </app-ticket-card>
      </div>

    } @empty {
      <div class="col-12">
        <p class="text-muted mt-3">No tickets found.</p>
      </div>
    }
  </div>
  
</div>